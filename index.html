<!DOCTYPE !html>
<html>
  <head>
    <title>Air Tycoon</title>
    <link rel="stylesheet" href="css/semantic.min.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/game.css">
    <link rel="stylesheet" href="css/airport.css">
    <link rel="stylesheet" href="css/alliance.css">
    <link rel="stylesheet" href="css/aircraft.css">
    <link rel="stylesheet" href="css/airline.css">
    <link rel="stylesheet" href="css/chat.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.4/semantic.min.css">
  </head>
  <body>
    <script id="airportTemplate" type="text/template">
			<div class="ui dividing header airport" data-iata="<%= iata %>">
			  <div class="content airport">
					<div class="ui horizontal statistics mini airport">
					  <div class="ui statistic">
							<div class="value">
								  <%= iata %>
								</div>
							</div>
						</div>
						<div class="airport data">
							<span><%= name %><br/>
							<%= city %>, <%= country %></span>
						</div>
					</div>
			  </div>
			</div>
		</script>
		<script id="gameTemplate" type="text/template">
			<div class="ui dividing header airport game" id="game<%= id %>">
			  <div class="content">
					<div class="ui horizontal statistics mini">
					  <div class="ui statistic game">
							<div class="value">
								  <%= name %>
								</div>
							</div>
						</div>
						<div class="game data">
							<span><%= region %><br/>
							<%= plural(airlines, 'Airline') %>
						</div>
						<%= status %>
						<% if(player) { %>
							<div class="button ui blue status game">Load Game</div>
						<% } else { %>
							<div class="button ui green status game">Join Game</div>
						<% } %>
					</div>
			  </div>
			</div>
		</script>
		<script id="newAirlineTemplate" type="text/template">
			<div class="form column ui new airline">
				<form id="newAirline">
					<div class="field inline airline">
						<input type="hidden" name="[airline]game_id" value="<%= id %>" />
	        	<input placeholder="Airline Name" type="text" name="[airline]name" data-variation="inverted" maxlength="50" />
	        	<input placeholder="Code (3 letters)" type="text" name="[airline]icao" data-variation="inverted" maxlength="3" />
						<div class="button ui gray create game">Create Airline</div>
					</div>
				</form>
			</div>
		</script>
		<script id="menuTemplate" type="text/template">
			<div class="ui five item teal menu" id="controlTabs">
		    <a class="active item" data-tabid="airport">Airports</a>
		    <a class="item" data-tabid="flight">Flights</a>
		    <a class="item" data-tabid="aircraft">Aircraft</a>
		    <a class="item" data-tabid="alliance">Alliance</a>
		    <a class="item" data-tabid="more">More</a>
			</div>
			<div class="column" id="airportList" data-tabid="airport">
			</div>
			<div class="column" id="flightList" data-tabid="flight">
			</div>
			<div class="column" id="aircraftList" data-tabid="aircraft">
			</div>
			<div class="column" id="allianceList" data-tabid="alliance">
			</div>
			<div class="column" id="moreList" data-tabid="more">
			</div>
		</script>
		<script id="airportListTemplate" type="text/template">
			<div class="ui mini icon input airport">
				<input type="text" placeholder="Search Airports" class="search airport" maxlength="3">
			  <i class="search icon"></i>
			</div>
			<div class="ui dividing header airport none">
				<div class="content airport">
					<h4 class="ui center aligned header">No Airports Found</h4>
				</div>
			</div>
		</script>
		<script id="allianceInfoTemplate" type="text/template">
			<div class="alliance info">
				<div class="ui statistic mini alliance info">
				  <div class="value">
				    <%= name %>
				  </div>
				  <div class="label">
				    <%= plural(airlines.length-pending,'Airline') %><% if(pending > 0) { %> (<%= pending %> Pending) <% } %>
				  </div>
				</div>
			</div>
			<div class="ui secondary pointing two item alliance menu blue">
				<a class="active item" data-tab="alliance_airlines">Airlines</a>
			  <a class="item" data-tab="alliance_chat">Chat</a>
			</div>
			<div class="alliance airline list" data-tab="alliance_airlines">
				<%= allianceAirlines(airlines) %>
			</div>
			<div class="chat window" data-tab="alliance_chat" style="display:none;">
				<div class="message list">
				</div>
				<form class="ui form" id="messageForm">
					<div class="field chat">
				    <textarea id="chatMessage" class="message" name="[alliance_chat]message"></textarea>
						<input type="submit" class="ui button blue super small" name="alliance" value="Send" />
				  </div>
				</form>
			</div>
		</script>
		<script id="allianceTemplate" type="text/template">
			<div class="ui dividing header airport alliance" data-alliance="<%= id %>">
			  <div class="content">
					<div class="ui statistic tiny alliance">
						<div class="value"><%= name %></div>
					  <div class="label"><%= plural(airlines,'Airline') %></div>
					</div>
				</div>
				<div class="ui button green micro alliance airline request single">Request</div>
			</div>
		</script>
		<script id="allianceAirlineTemplate" type="text/template">
			<div class="ui dividing header airport airline" data-membership="<%= mid %>" data-id="<%= id %>">
			  <div class="content airport">
					<div class="ui horizontal statistics mini airport">
					  <div class="ui statistic">
							<div class="value">
							  <%= icao %>
							</div>
						</div>
					</div>
					<div class="airport alliance data">
					<span><%= name %><br /><%= plural(flights,'Flight') %><br /><%= aircraft %> Aircraft</span>
						<% if((admin)&&(self !== true)) { %>
							<% if(status) { %>
								<div class="ui button red micro alliance airline eject single">Eject</div>
							<% } else { %>
								<div class="ui button green micro alliance airline accept">Accept</div>
								<div class="ui button red micro alliance airline reject">Reject</div>
							<% } %>
						<% } else if((self === true)&&(admin === false)&&(!status)) { %>
							<div class="ui button red micro alliance airline pending single">Pending</div>
						<% } else if((self === true)&&(admin === false)) { %>
							<div class="ui button red micro alliance airline leave single">Leave</div>
						<% } %>
					</div>
				</div>
			</div>
		</script>
		<script id="newAllianceView" type="text/template">
			<div class="ui one bottom attached buttons create">
	      <div class="ui button primary">
	        <i class="add icon"></i>
	        Create New Alliance
				</div>
			</div>
		</script>
		<script id="airlineModalView" type="text/template">
			<div class="ui standard modal airline info" style="display:none;">
		  	<i class="close icon"></i>
		    <div class="header ui aligned center"><%= name %> (<%= icao %>)</div>
				<div class="routes container">
					<div class="ui tablet stackable steps fluid airline flights" id="airlineRouteList">
					</div>
				</div>
			</div>
		</script>
		<script id="airlineModalFlightView" type="text/template">
			<div class="step flight">
		  	<div class="content">
		    	<div class="title route"><%= route.origin.iata %><i class="resize horizontal icon"></i><%= route.destination.iata %></div>
		    	<div class="description aircraft frequencies"><%= userAircraft %><br><%= frequencies %>/week</div>
				</div>
			</div>
		</script>
		<script id="newAllianceModalView" type="text/template">
		  <div class="shaded grid create-alliance-window">
		    <div class="ui grid">
		      <div class="three column row">
		        <div class="ui column"></div>
		        <div class="ui raised segment column form login-form">
						<div class="ui header center aligned">Create a New Alliance</div>
							<form id="allianceForm">
		            <div class="field">
		              <input placeholder="Alliance Name" type="text" name="[alliance]name">
		            </div>
		            <input type="submit" class="button blue ui full" value="Create Alliance" />
		          </form>
		        </div>
		      </div>
		    </div>
			</div>
		</script>
		<script id="userAircraftTemplate" type="text/template">
			<% if(flight) { %>
				<a class="step own" id="menuFlight" data-flightid="<%= flight.id %>" data-routeid="<%= flight.route.id %>">
					<div class="content">
						<div class="title">
							<%= aircraft.full_name %>
							(<%= flight.route.origin.iata %>-<%= flight.route.destination.iata %> <%= flight.frequencies %>x/week)</div>
						<div class="description"> % Load Factor(<span class="greenColor"></span>)</div>
					</div>
				</a>
			<% } else { %>
				Aircraft not in use
			<% } %>
		</script>
		<div id="leftColumn">
		</div>
    <div class="shaded grid game-window">
			<div class="column" id="gameList"></div>
		</div>
    <div class="shaded grid login-window" style="display:none;">
      <div class="ui grid">
        <div class="three column row">
          <div class="ui column"></div>
          <div class="ui raised segment column form login-form">
            <div class="ui header center aligned">Welcome to Air Tycoon</div>
            <div class="ui two item blue menu" id="loginMenu">
              <a class="active item" data-tab="sign-up">Sign Up</a>
              <a class="item" data-tab="login">Login</a>
            </div>
            <form data-tab="sign-up" id="signupForm">
              <div class="field">
                <input placeholder="Username" type="text" name="[user]username" data-variation="inverted">
              </div>
              <div class="field">
                <input placeholder="Name" type="text" name="[user]name" data-variation="inverted">
              </div>
              <div class="field">
                <input placeholder="Email" type="email" name="[user]email" data-variation="inverted">
              </div>
              <div class="field">
                <input placeholder="Password" type="password" name="[user]password" data-variation="inverted">
              </div>
              <input type="submit" class="button blue ui full" value="Sign Up" />
            </form>
            <form data-tab="login" style="display:none;" id="loginForm">
              <div class="field">
                <input placeholder="Username" type="text" name="username">
              </div>
              <div class="field">
                <input placeholder="Password" type="password" name="password">
              </div>
              <input type="submit" class="button blue ui full" value="Login" />
            </form>
          </div>
        </div>
      </div>
    </div>
    <script src="js/json2.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/underscore.js"></script>
    <script src="js/q.js"></script>
    <script src="js/backbone.js"></script>
    <script src="js/backbone.localStorage.js"></script>
    <script src="js/airline.js"></script>
    <script src="js/airport.js"></script>
    <script src="js/aircraft.js"></script>
    <script src="js/main.js"></script>
    <script src="js/game.js"></script>
    <script src="js/alliance.js"></script>
    <script src="js/user.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/semantic.min.js"></script>
  </body>
</html>
